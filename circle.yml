machine:
  node:
    version: 4.3.1
  environment:
    GRADLE_OPTS: '-Dorg.gradle.jvmargs="-Xmx512m -XX:+HeapDumpOnOutOfMemoryError"'

dependencies:
  override:
    - npm install:
        pwd:
          RoihuApp
    - npm install -g react-native-cli

deployment:
  production:
    branch: master
    commands:
      - ./gradlew assembleDebug -PdisablePreDex:
          pwd:
            RoihuApp/android
          timeout: 360

general:
  artifacts:
    - ./RoihuApp/android/app/build/outputs/apk
